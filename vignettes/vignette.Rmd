---
title: "How to use getUMLS"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
YOUR_API_KEY <- "108f48a6-2005-4435-b1db-a047c222294e"
```

```{r setup}
library(getUMLS)
```

## 1. Authentication :
First, you need to authentify yourself in order to have access to UMLS REST API.
This function help you to do that. It receives in argument the **apikey** received by UMLS.
```{r TGT}
getUMLS::umls_pass(apikey = YOUR_API_KEY)
```

## 2. Retrieves information about a known CUI
This function provides you a way to retrieve information (name, semantic types, number of atoms, etc) for a known CUI from latest UMLS version. It receives in argument the **TGT** and a **CUI**.
```{r fromCUI}
getUMLS::fromCUI(CUI = "C0018689")
```

## 3. Atoms et Information
This function provides you a way to retrieve atoms and information about atoms for a known CUI.
It receives in argument the **TGT**, a **CUI**, a UMLS sources vocabularies (optional), a language (optional) and the page size (optional). You can consult the allowed vocabularies on: [vocabulary](https://www.nlm.nih.gov/research/umls/sourcereleasedocs/index.html).
```{r atoms}
getUMLS::atomsfromCUI(CUI = "C0018689")
```

## 4. CUI Definition
This function provides you a way to retrieve the source-asserted definitions for a known CUI.
It receives in argument the **TGT** and a **CUI**.
```{r defintion}
getUMLS::defromCUI(CUI = "C0155502")
```

## 5. CUI Relation
This function provides you a way to retrieve the NLM-asserted relationships for a known CUI.
It receives in argument the **TGT**, a **CUI** and the page size (optional).
```{r relation}
getUMLS::relfromCUI(CUI = "C0155502")
```

## 6. ID from String
This function provides you a way to retrieve a source-asserted identifiers (**codes**) associate with a search term (**string**) in UMLS specific source vocabulary. You can consult the allowed vocabularies on: [vocabulary](https://www.nlm.nih.gov/research/umls/sourcereleasedocs/index.html).
```{r IdfromString}
getUMLS::IdfromString(String = "bone fracture", vocabulary = "MSH")
```

## 7. CUI from String
This function provides you a way to retrieve a UMLS Concept Unique Identifier (**CUI**) associate with a search term (**string**).
```{r CUIString}
getUMLS::CUIfromString(String = "bone fracture")
```

## 8. CUI from another source-asserted identifier
This function provides you a way to retrieve a UMLS Concept Unique Identifier (**CUI**) associate with a specific source-asserted identifier (**code**).
It receives in argument the **TGT**, a **id** (source-asserted identifier) and a **vocabulary** abbreviation (source vocabulary). You can consult the allowed vocabularies on: [vocabulary](https://www.nlm.nih.gov/research/umls/sourcereleasedocs/index.html).
```{r CUI&Id}
getUMLS::CUIfromId(Id = "J45", vocabulary = "ICD10")
```

## 9. Hierarchical information
This function provides you a way to retrieve a hierarchical information about a known source-asserted identifier. You can :
* Retrieve the immediate parents of a known source asserted identifier.
* Retrieve all immediate children of a known source asserted identifier.
* Retrieve all ancestors or descendants of a known source asserted identifier.
```{r hierarchy}
getUMLS::hierarchyfromSource(vocabulary = "ICD10", Id = "J45", type = "children")
```

## Reference
« UMLS REST API Home Page ». https://documentation.uts.nlm.nih.gov/rest/home.html
